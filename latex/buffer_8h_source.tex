\doxysection{buffer.\+h}
\hypertarget{buffer_8h_source}{}\label{buffer_8h_source}\mbox{\hyperlink{buffer_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00001}00001\ }
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00002}00002\ \textcolor{preprocessor}{\#ifndef\ \_\_BUFFER\_H\_\_}}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00003}00003\ \textcolor{preprocessor}{\#define\ \_\_BUFFER\_H\_\_}}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00005}\mbox{\hyperlink{buffer_8h_a6821bafc3c88dfb2e433a095df9940c6}{00005}}\ \textcolor{preprocessor}{\#define\ BUF\_SIZE\ \ \ \ \ \ \ \ (4*1000\ +\ 8)}}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00007}\mbox{\hyperlink{structbuffer__s}{00007}}\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{volatile}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structbuffer__s}{buffer\_s}}\ \{}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00008}\mbox{\hyperlink{structbuffer__s_a7566cf9d678c5ffd8fb04de3d2998360}{00008}}\ \ \ \ \ \textcolor{keyword}{volatile}\ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{structbuffer__s_a7566cf9d678c5ffd8fb04de3d2998360}{buf}}[\mbox{\hyperlink{buffer_8h_a6821bafc3c88dfb2e433a095df9940c6}{BUF\_SIZE}}];}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00009}\mbox{\hyperlink{structbuffer__s_a3b8b563043e1d18d46372ab66b2e9c07}{00009}}\ \ \ \ \ \textcolor{keyword}{volatile}\ Uint16\ \mbox{\hyperlink{structbuffer__s_a3b8b563043e1d18d46372ab66b2e9c07}{head}},\ \mbox{\hyperlink{structbuffer__s_a44a5107615833cb4388e80de5b963c3e}{tail}},\ \mbox{\hyperlink{structbuffer__s_ad658ca46eae08c06bdb60ca38ad87e13}{size}};}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00010}\mbox{\hyperlink{buffer_8h_ab3af3c14c7d101a56206931bf7f74286}{00010}}\ \}\ \mbox{\hyperlink{buffer_8h_ab3af3c14c7d101a56206931bf7f74286}{buffer\_t}};}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00011}00011\ }
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00014}\mbox{\hyperlink{buffer_8h_abf06b8c681b5240c8f339889a27fc0cd}{00014}}\ \textcolor{keyword}{extern}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{buffer_8h_abf06b8c681b5240c8f339889a27fc0cd}{init\_buffer}}(\mbox{\hyperlink{structbuffer__s}{buffer\_t}}\ *b)}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00015}00015\ \{}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00016}00016\ \ \ \ \ b-\/>\mbox{\hyperlink{structbuffer__s_ad658ca46eae08c06bdb60ca38ad87e13}{size}}\ =\ b-\/>\mbox{\hyperlink{structbuffer__s_a3b8b563043e1d18d46372ab66b2e9c07}{head}}\ =\ b-\/>\mbox{\hyperlink{structbuffer__s_a44a5107615833cb4388e80de5b963c3e}{tail}}\ =\ 0;}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00017}00017\ \}}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00018}\mbox{\hyperlink{buffer_8h_adf7702471c6d9f1b970bb47e11a6db2b}{00018}}\ \textcolor{preprocessor}{\#define\ buf\_clear(b)\ \ \ \ \ \ \ \ \ \ \ \ init\_buffer(b)}}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00019}00019\ }
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00020}00020\ \textcolor{preprocessor}{\#ifdef\ \_FLASH}}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00021}00021\ \textcolor{preprocessor}{\#pragma\ CODE\_SECTION(buf\_write\_1,\ "{}.TI.ramfunc"{});}}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00022}00022\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00023}\mbox{\hyperlink{buffer_8h_adc65dbd7f4a9bf64cec2679b4b20bc06}{00023}}\ \textcolor{keyword}{extern}\ \textcolor{keyword}{inline}\ uint16\_t\ \mbox{\hyperlink{buffer_8h_adc65dbd7f4a9bf64cec2679b4b20bc06}{buf\_write\_1}}(\mbox{\hyperlink{structbuffer__s}{buffer\_t}}\ *b,\ \textcolor{keywordtype}{char}\ data)}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00024}00024\ \{}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00025}00025\ \ \ \ \ \textcolor{keywordflow}{if}\ (b-\/>\mbox{\hyperlink{structbuffer__s_ad658ca46eae08c06bdb60ca38ad87e13}{size}}\ ==\ \mbox{\hyperlink{buffer_8h_a6821bafc3c88dfb2e433a095df9940c6}{BUF\_SIZE}})\ \textcolor{keywordflow}{return}\ 2;}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00026}00026\ \ \ \ \ b-\/>\mbox{\hyperlink{structbuffer__s_a7566cf9d678c5ffd8fb04de3d2998360}{buf}}[b-\/>\mbox{\hyperlink{structbuffer__s_a3b8b563043e1d18d46372ab66b2e9c07}{head}}]\ =\ data;}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00027}00027\ \ \ \ \ b-\/>\mbox{\hyperlink{structbuffer__s_a3b8b563043e1d18d46372ab66b2e9c07}{head}}\ =\ (b-\/>\mbox{\hyperlink{structbuffer__s_a3b8b563043e1d18d46372ab66b2e9c07}{head}}+1)\%\mbox{\hyperlink{buffer_8h_a6821bafc3c88dfb2e433a095df9940c6}{BUF\_SIZE}};}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00028}00028\ \ \ \ \ b-\/>\mbox{\hyperlink{structbuffer__s_ad658ca46eae08c06bdb60ca38ad87e13}{size}}++;}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00029}00029\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00030}00030\ \}}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00031}00031\ }
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00032}00032\ \textcolor{preprocessor}{\#ifdef\ \_FLASH}}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00033}00033\ \textcolor{preprocessor}{\#pragma\ CODE\_SECTION(buf\_read\_1,\ "{}.TI.ramfunc"{});}}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00034}00034\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00035}\mbox{\hyperlink{buffer_8h_ae8e4fb3486622e0c6a053558ccc4bd61}{00035}}\ \textcolor{keyword}{extern}\ \textcolor{keyword}{inline}\ uint16\_t\ \mbox{\hyperlink{buffer_8h_ae8e4fb3486622e0c6a053558ccc4bd61}{buf\_read\_1}}(\mbox{\hyperlink{structbuffer__s}{buffer\_t}}\ *b,\ Uint16\ offset,\ \textcolor{keywordtype}{char}\ *data)}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00036}00036\ \{}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00037}00037\ \ \ \ \ \textcolor{keywordflow}{if}\ (b-\/>\mbox{\hyperlink{structbuffer__s_ad658ca46eae08c06bdb60ca38ad87e13}{size}}\ ==\ 0\ ||\ b-\/>\mbox{\hyperlink{structbuffer__s_ad658ca46eae08c06bdb60ca38ad87e13}{size}}\ <\ offset)\ \textcolor{keywordflow}{return}\ 3;}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00038}00038\ \ \ \ \ *data\ =\ b-\/>\mbox{\hyperlink{structbuffer__s_a7566cf9d678c5ffd8fb04de3d2998360}{buf}}[\ (b-\/>\mbox{\hyperlink{structbuffer__s_a44a5107615833cb4388e80de5b963c3e}{tail}}+offset)\%\mbox{\hyperlink{buffer_8h_a6821bafc3c88dfb2e433a095df9940c6}{BUF\_SIZE}}\ ];}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00039}00039\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00040}00040\ \}}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00042}00042\ \textcolor{preprocessor}{\#ifdef\ \_FLASH}}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00043}00043\ \textcolor{preprocessor}{\#pragma\ CODE\_SECTION(buf\_remove,\ "{}.TI.ramfunc"{});}}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00044}00044\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00045}\mbox{\hyperlink{buffer_8h_ab06ddb507540e4dafa19c49a4a5e1468}{00045}}\ \textcolor{keyword}{extern}\ \textcolor{keyword}{inline}\ uint16\_t\ \mbox{\hyperlink{buffer_8h_ab06ddb507540e4dafa19c49a4a5e1468}{buf\_remove}}(\mbox{\hyperlink{structbuffer__s}{buffer\_t}}\ *b,\ Uint16\ len)}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00046}00046\ \{}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00047}00047\ \ \ \ \ len\ =\ (len\ >\ b-\/>\mbox{\hyperlink{structbuffer__s_ad658ca46eae08c06bdb60ca38ad87e13}{size}})\ ?\ b-\/>\mbox{\hyperlink{structbuffer__s_ad658ca46eae08c06bdb60ca38ad87e13}{size}}\ :\ len;}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00048}00048\ \ \ \ \ b-\/>\mbox{\hyperlink{structbuffer__s_a44a5107615833cb4388e80de5b963c3e}{tail}}\ =\ (b-\/>\mbox{\hyperlink{structbuffer__s_a44a5107615833cb4388e80de5b963c3e}{tail}}+len)\%\mbox{\hyperlink{buffer_8h_a6821bafc3c88dfb2e433a095df9940c6}{BUF\_SIZE}};}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00049}00049\ \ \ \ \ b-\/>\mbox{\hyperlink{structbuffer__s_ad658ca46eae08c06bdb60ca38ad87e13}{size}}\ -\/=\ len;}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00050}00050\ \ \ \ \ \textcolor{keywordflow}{return}\ len;}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00051}00051\ \}}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00052}00052\ }
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00053}00053\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ \_\_BUFFER\_H\_\_\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00054}00054\ }
\DoxyCodeLine{\Hypertarget{buffer_8h_source_l00055}00055\ }

\end{DoxyCode}
